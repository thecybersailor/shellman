#!/bin/bash

# Pre-push hook to run full validation chain
# Exit with non-zero status to prevent push if validation fails

echo "Running full validation before push..."
echo "This will check: frontend typecheck and tests"
echo ""

if make validate-all; then
    echo ""
    echo "✅ All validations passed. Proceeding with push..."
    exit 0
else
    echo ""
    echo "❌ Validation failed. Push aborted."
    echo "Please fix the errors above before pushing."
    exit 1
fi
